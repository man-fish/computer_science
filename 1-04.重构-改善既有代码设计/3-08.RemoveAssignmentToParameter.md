# Remove Assignments to Parameters (移除对参数的赋值动作)

你的代码对一个参数进行赋值动作，以一个临时变量取代该参数的位置。

```ts
function discount(inputVal: number) {
    if (inputVal > 50) inputVal -= 2;
}

// =====>
function discountV2(inputVal: number) {
    let result = inputVal;
    if (result > 50) result -= 2;
}
```

## 动机 (Motivation)

首先，我要确定大家都清楚「对参数赋值」这个说法的意思。如果你把一个名为`foo` 的对象作为参数传给某个函数，那么「对参数赋值」意味改变`foo`，使它引用（参考、指涉、指向）另一个对象。如果你在「被传入对象」身上进行什么操作，那没问题，我也总是这样干。我只针对「`foo`被改而指向（引用）完全不同的另一个对象」这种情况来讨论：

我之所以不喜欢这样的作法，因为它降低了代码的清晰度，而且混淆了 `pass by value`（传值〕和 `pass by reference` (传址）这两种参数传递方式。

另一个让人糊涂的地方是函数本体内。如果你只以参数表示「被传递进来的东西」，那么代码会清晰得多，因为这种用法在所有语言中都表现出相同语义。

当然，面对那些使用「输出式参数」（ output parameters）的语言，你不必遵循这条规则。不过在那些语言中我会尽量少用输出式参数。

## 作法 (Mechanics)

1. 建立一个临时变量，把待处理的参数值赋予它。
2. 以「对参数的赋值动作」为界，将其后所有对此参数的引用点，全部替换为「对此临时变量的引用动作」。
3. 修改赋值语句，使其改为对新建之临时变量赋值。”

