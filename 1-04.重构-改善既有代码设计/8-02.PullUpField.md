# Pull Up Field (值域上移)

两个`subclasses` 拥有相同的值域。

将此一值域移至`superclass`。

<img src="assets/image-20211220105304181.png" alt="image-20211220105304181" style="zoom:50%;" />

## 动机 (Motivation)

如果各个`subclass` 是分别开发的，或者是在重构过程中组合起来的，你常会发现它们拥有重复特性，特别是值域更容易重复。这样的值域有时拥有近似的名字，但也并非绝对如此。判断若干值域是否重复，惟一的办法就是观察函数如何使用它们。如果它们被使用的方式很相似，你就可以将它们归纳到`superclass` 去。

本项重构从两方面减少重复：首先它去除了「重复的数据声明」；其次它使你可以将使用该值域的行为从`subclass` 移至`superclass`，从而去除「重复的行为」。

## 作法 (Mechanics)

1. 针对待提升之值域，检查它们的所有被使用点，确认它们以同样的方式被使用。
2. 如果这些值域的名称不同，先将它们改名，使每一个名称都和你想为`superclass` 值域取的名称相同。
3. 编译，测试。
4. 在`superclass` 中新建一个值域。
5. 如果这些值域是`private` ，你必须将`superclass` 的值域声明为`protected`，这样`subclasses` 才能引用它。
6. 移除`subclass` 中的值域。

